{"ast":null,"code":"import _extends from \"/Users/Jake/hairwebsite-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/extends\";\nimport _regeneratorRuntime from \"/Users/Jake/hairwebsite-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/Jake/hairwebsite-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/Jake/hairwebsite-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/Jake/hairwebsite-web/src/views/LoginPage/LoginPage.js\";\nimport React, { useState } from \"react\"; // @material-ui/core components\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport Icon from \"@material-ui/core/Icon\"; // @material-ui/icons\n\nimport Email from \"@material-ui/icons/Email\"; // core components\n\nimport Header from \"components/Header/Header.js\";\nimport HeaderLinks from \"components/Header/HeaderLinks.js\";\nimport Footer from \"components/Footer/Footer.js\";\nimport GridContainer from \"components/Grid/GridContainer.js\";\nimport GridItem from \"components/Grid/GridItem.js\";\nimport Button from \"components/CustomButtons/Button.js\";\nimport Card from \"components/Card/Card.js\";\nimport CardBody from \"components/Card/CardBody.js\";\nimport CardHeader from \"components/Card/CardHeader.js\";\nimport CardFooter from \"components/Card/CardFooter.js\";\nimport CustomInput from \"components/CustomInput/CustomInput.js\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport styles from \"assets/jss/material-kit-react/views/loginPage.js\";\nimport { USER_SIGN_IN } from \"actions/actionTypes\";\nimport { useHistory } from 'react-router-dom';\nimport image from \"assets/img/hands-blow-drying-hair.jpg\";\nimport Swal from \"sweetalert2\";\nimport logo from \"assets/img/badge.png\";\nvar dashboardRoutes = [];\nvar useStyles = makeStyles(styles);\nexport default function LoginPage(props) {\n  // store shit\n  var dispatch = useDispatch();\n\n  var _useHistory = useHistory(),\n      push = _useHistory.push;\n\n  var _React$useState = React.useState(\"cardHidden\"),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      cardAnimaton = _React$useState2[0],\n      setCardAnimation = _React$useState2[1];\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      email = _useState2[0],\n      setEmail = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      password = _useState4[0],\n      setPassword = _useState4[1];\n\n  var login =\n  /*#__PURE__*/\n  function () {\n    var _ref = _asyncToGenerator(\n    /*#__PURE__*/\n    _regeneratorRuntime.mark(function _callee() {\n      var url, result, _ref2, token, user;\n\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.prev = 0;\n              url = \"http://localhost:8080/user/login\";\n              _context.next = 4;\n              return fetch(url, {\n                method: \"POST\",\n                body: JSON.stringify({\n                  email: email,\n                  password: password\n                }),\n                headers: {\n                  \"Content-Type\": \"application/json\"\n                }\n              });\n\n            case 4:\n              result = _context.sent;\n              _context.next = 7;\n              return result.json();\n\n            case 7:\n              _ref2 = _context.sent;\n              token = _ref2.token;\n              user = _ref2.user;\n              dispatch({\n                type: USER_SIGN_IN,\n                payload: {\n                  token: token,\n                  email: user.email,\n                  name: user.name\n                }\n              });\n              console.log(token);\n              push(\"/dashboard\");\n              _context.next = 18;\n              break;\n\n            case 15:\n              _context.prev = 15;\n              _context.t0 = _context[\"catch\"](0);\n\n              if (_context.t0 == \"TypeError: Cannot read property 'email' of undefined\") {\n                Swal.fire({\n                  icon: \"error\",\n                  title: \"Error\",\n                  text: \"Email or Password Incorrect\"\n                });\n              } else {\n                Swal.fire({\n                  icon: \"error\",\n                  title: \"Error\",\n                  text: _context.t0\n                });\n              }\n\n            case 18:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[0, 15]]);\n    }));\n\n    return function login() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  setTimeout(function () {\n    setCardAnimation(\"\");\n  }, 700);\n  var classes = useStyles();\n\n  var rest = _extends({}, props);\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, React.createElement(Header, Object.assign({\n    color: \"transparent\",\n    routes: dashboardRoutes,\n    logo: logo,\n    brand: \"Hair by Dalton\",\n    rightLinks: React.createElement(HeaderLinks, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }),\n    fixed: true,\n    changeColorOnScroll: {\n      height: 400,\n      color: \"white\"\n    }\n  }, rest, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  })), React.createElement(\"div\", {\n    className: classes.pageHeader,\n    style: {\n      backgroundImage: \"url(\" + image + \")\",\n      backgroundSize: \"cover\",\n      backgroundPosition: \"top center\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: classes.container,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }, React.createElement(GridContainer, {\n    justify: \"center\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }, React.createElement(GridItem, {\n    xs: 12,\n    sm: 12,\n    md: 4,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106\n    },\n    __self: this\n  }, React.createElement(Card, {\n    className: classes[cardAnimaton],\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107\n    },\n    __self: this\n  }, React.createElement(\"form\", {\n    className: classes.form,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    },\n    __self: this\n  }, React.createElement(CardHeader, {\n    color: \"primary\",\n    className: classes.cardHeader,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109\n    },\n    __self: this\n  }, React.createElement(\"h4\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }, \"Login\")), React.createElement(CardBody, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  }, React.createElement(CustomInput, {\n    labelText: \"Email\",\n    id: \"email\",\n    formControlProps: {\n      fullWidth: true\n    },\n    inputProps: {\n      type: \"email\",\n      value: email,\n      onChange: function onChange(e) {\n        return setEmail(e.target.value);\n      },\n      endAdornment: React.createElement(InputAdornment, {\n        position: \"end\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, React.createElement(Email, {\n        className: classes.inputIconsColor,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 125\n        },\n        __self: this\n      }))\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113\n    },\n    __self: this\n  }), React.createElement(CustomInput, {\n    labelText: \"Password\",\n    id: \"pass\",\n    formControlProps: {\n      fullWidth: true\n    },\n    inputProps: {\n      type: \"password\",\n      value: password,\n      onChange: function onChange(e) {\n        return setPassword(e.target.value);\n      },\n      endAdornment: React.createElement(InputAdornment, {\n        position: \"end\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, React.createElement(Icon, {\n        className: classes.inputIconsColor,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 142\n        },\n        __self: this\n      }, \"lock_outline\")),\n      autoComplete: \"off\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130\n    },\n    __self: this\n  })), React.createElement(\"a\", {\n    href: \"/register\",\n    style: {\n      display: \"flex\",\n      justifyContent: \"center\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151\n    },\n    __self: this\n  }, \"Don't have an account? Create one here\"), React.createElement(CardFooter, {\n    className: classes.cardFooter,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157\n    },\n    __self: this\n  }, React.createElement(Button, {\n    simple: true,\n    color: \"primary\",\n    size: \"lg\",\n    onClick: login,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158\n    },\n    __self: this\n  }, \"Sign In\"))))))), React.createElement(Footer, {\n    whiteFont: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167\n    },\n    __self: this\n  })));\n}","map":{"version":3,"sources":["/Users/Jake/hairwebsite-web/src/views/LoginPage/LoginPage.js"],"names":["React","useState","makeStyles","InputAdornment","Icon","Email","Header","HeaderLinks","Footer","GridContainer","GridItem","Button","Card","CardBody","CardHeader","CardFooter","CustomInput","useDispatch","useSelector","styles","USER_SIGN_IN","useHistory","image","Swal","logo","dashboardRoutes","useStyles","LoginPage","props","dispatch","push","cardAnimaton","setCardAnimation","email","setEmail","password","setPassword","login","url","fetch","method","body","JSON","stringify","headers","result","json","token","user","type","payload","name","console","log","fire","icon","title","text","setTimeout","classes","rest","height","color","pageHeader","backgroundImage","backgroundSize","backgroundPosition","container","form","cardHeader","fullWidth","value","onChange","e","target","endAdornment","inputIconsColor","autoComplete","display","justifyContent","cardFooter"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\n// @material-ui/core components\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\nimport Icon from \"@material-ui/core/Icon\";\n// @material-ui/icons\nimport Email from \"@material-ui/icons/Email\";\n// core components\nimport Header from \"components/Header/Header.js\";\nimport HeaderLinks from \"components/Header/HeaderLinks.js\";\nimport Footer from \"components/Footer/Footer.js\";\nimport GridContainer from \"components/Grid/GridContainer.js\";\nimport GridItem from \"components/Grid/GridItem.js\";\nimport Button from \"components/CustomButtons/Button.js\";\nimport Card from \"components/Card/Card.js\";\nimport CardBody from \"components/Card/CardBody.js\";\nimport CardHeader from \"components/Card/CardHeader.js\";\nimport CardFooter from \"components/Card/CardFooter.js\";\nimport CustomInput from \"components/CustomInput/CustomInput.js\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport styles from \"assets/jss/material-kit-react/views/loginPage.js\";\nimport { USER_SIGN_IN } from \"actions/actionTypes\";\nimport { useHistory } from 'react-router-dom';\nimport image from \"assets/img/hands-blow-drying-hair.jpg\";\nimport Swal from \"sweetalert2\";\nimport logo from \"assets/img/badge.png\";\n\nconst dashboardRoutes = [];\n\nconst useStyles = makeStyles(styles);\n\nexport default function LoginPage(props) {\n  // store shit\n  const dispatch = useDispatch();\n  const { push } = useHistory();\n\n  const [cardAnimaton, setCardAnimation] = React.useState(\"cardHidden\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const login = async () => {\n    try {\n      const url = \"http://localhost:8080/user/login\";\n      const result = await fetch(url, {\n        method: \"POST\",\n        body: JSON.stringify({ email, password }),\n        headers: {\n          \"Content-Type\": \"application/json\"\n        }\n      });\n      const { token, user } = await result.json();\n      dispatch({\n        type: USER_SIGN_IN,\n        payload: { token, email: user.email, name: user.name }\n      });\n      console.log(token);\n      push(\"/dashboard\");   \n    } catch (e) {\n      if ( e == \"TypeError: Cannot read property 'email' of undefined\" ) {\n        Swal.fire({\n          icon: \"error\",\n          title: \"Error\",\n          text: \"Email or Password Incorrect\"\n        });\n      } else {\n        Swal.fire({\n          icon: \"error\",\n          title: \"Error\",\n          text: e\n        });\n      }\n    }\n  };\n\n  setTimeout(function() {\n    setCardAnimation(\"\");\n  }, 700);\n  \n  const classes = useStyles();\n  const { ...rest } = props;\n  return (\n    <div>\n      <Header\n        color=\"transparent\"\n        routes={dashboardRoutes}\n        logo={logo}\n        brand=\"Hair by Dalton\"\n        rightLinks={<HeaderLinks />}\n        fixed\n        changeColorOnScroll={{\n          height: 400,\n          color: \"white\"\n        }}\n        {...rest}\n      />\n      <div\n        className={classes.pageHeader}\n        style={{\n          backgroundImage: \"url(\" + image + \")\",\n          backgroundSize: \"cover\",\n          backgroundPosition: \"top center\"\n        }}\n      >\n        <div className={classes.container}>\n          <GridContainer justify=\"center\">\n            <GridItem xs={12} sm={12} md={4}>\n              <Card className={classes[cardAnimaton]}>\n                <form className={classes.form}>\n                  <CardHeader color=\"primary\" className={classes.cardHeader}>\n                    <h4>Login</h4>\n                  </CardHeader>\n                  <CardBody>\n                    <CustomInput\n                      labelText=\"Email\"\n                      id=\"email\"\n                      formControlProps={{\n                        fullWidth: true\n                      }}\n                      inputProps={{\n                        type: \"email\",\n                        value: email,\n                        onChange: e => setEmail(e.target.value),\n                        endAdornment: (\n                          <InputAdornment position=\"end\">\n                            <Email className={classes.inputIconsColor} />\n                          </InputAdornment>\n                        )\n                      }}\n                    />\n                    <CustomInput\n                      labelText=\"Password\"\n                      id=\"pass\"\n                      formControlProps={{\n                        fullWidth: true\n                      }}\n                      inputProps={{\n                        type: \"password\",\n                        value: password,\n                        onChange: e => setPassword(e.target.value),\n                        endAdornment: (\n                          <InputAdornment position=\"end\">\n                            <Icon className={classes.inputIconsColor}>\n                              lock_outline\n                            </Icon>\n                          </InputAdornment>\n                        ),\n                        autoComplete: \"off\"\n                      }}\n                    />\n                  </CardBody>\n                  <a\n                    href=\"/register\"\n                    style={{ display: \"flex\", justifyContent: \"center\" }}\n                  >\n                    Don't have an account? Create one here\n                  </a>\n                  <CardFooter className={classes.cardFooter}>\n                    <Button simple color=\"primary\" size=\"lg\" onClick={login}>\n                      Sign In\n                    </Button>\n                  </CardFooter>\n                </form>\n              </Card>\n            </GridItem>\n          </GridContainer>\n        </div>\n        <Footer whiteFont />\n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}